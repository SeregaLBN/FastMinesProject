apply plugin: 'java'
apply plugin: 'application'

sourceCompatibility = JavaVersion.VERSION_1_8
targetCompatibility = JavaVersion.VERSION_1_8

compileJava.options.encoding = 'UTF-8'

group = 'FastMinesGame' // fmg

defaultTasks 'clean', 'build'

jar {
    manifest {
        attributes 'Vendor': 'SeregaLBN',
                   'Build-Date': new Date().format("yyyy-MM-dd'T 'HH:mm:ss.SSSZZ")
    }
}

mainClassName = "fmg.swing.app.Main"

sourceSets {
   main {
      java {
         srcDir '../src/src_platform_swing'
         srcDir 'src/main/java'
         include '**/*.java'
      }
      resources {
         srcDir 'src/test/resources'
//         srcDir '../res'
//         exclude '**/*~*'
//         include '**/*.gif'
//         include '**/*.jpeg'
//         include '**/*.jpg'
//       //include '**/*.ico'
//         include '**/*.png'
      }
   }
    test {
        java {
            srcDir 'src/test/java'
            srcDir '../src/test_swing'
            include '**/*.java'
        }
    }
}


dependencies {
    implementation project(':FastMines_core')

    // Use JUnit test framework
    testImplementation 'junit:junit:4.12'
    testCompile 'org.awaitility:awaitility:3.1.5'
    testCompile 'io.reactivex.rxjava2:rxjava:2.2.5'
}

//jar {
//   into('res') {
//      from '../res'
//      exclude '**/*~*'
//      include '**/*.png'
//   }
//}

//version = '2.0.3'

jar {
   manifest {
      attributes 'Main-Class': 'fmg.swing.app.Main',
                 'Title': 'FastMines game - Java SWING desktop application',
                 'Version': '2.0.3'
   }
}
